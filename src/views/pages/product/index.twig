{% extends "layouts/master.twig" %}

{% block content %}
<section class="product-detail">
  <div class="container">
    <div class="product-wrapper">
      <div class="product-images">
        {% for image in product.images %}
          <img src="{{ image.url }}" alt="{{ product.name }}">
        {% else %}
          <div class="placeholder-image">
            <span>{{ 'general.add_to_cart' | t }}</span>
          </div>
        {% endfor %}
      </div>

      <div class="product-info">
        <h1>{{ product.name }}</h1>
        <p class="price">{{ product.price | money }}</p>
        <div class="description">
          {{ product.description | default('لا توجد تفاصيل متاحة لهذا المنتج.') | raw }}
        </div>

        <form action="/cart/add" method="post" class="product-form">
          {% if product.available %}
            <input type="hidden" name="id" value="{{ product.variants.first.id }}">
            <button type="submit" class="btn-primary">{{ 'product.add_to_cart' | t }}</button>
          {% else %}
            <button type="button" class="btn-disabled" disabled>{{ 'product.out_of_stock' | t }}</button>
          {% endif %}
        </form>
      </div>
    </div>
  </div>
</section>
{% endblock %}

